// Defines button interactive states for hover and active using HSL & calc
// Takes a color token name as an argument
@mixin button-interactive-states($bg-color) {
    &:hover:not(:disabled) {
        background-color: hsl(var(#{$bg-color}-h), var(#{$bg-color}-s), calc(var(#{$bg-color}-l) - var(--dt-color-hover-01)));
    }

    &:active:not(:disabled) {
        background-color: hsl(var(#{$bg-color}-h), var(#{$bg-color}-s), calc(var(#{$bg-color}-l) - var(--dt-color-active-01)));
    }
}

// Base button styles
.o-btn {
    // Custom Property Declarations
    // These are defined here instead of :host to encapsulate them inside Shadow DOM
    --btn-border-radius: var(--dt-radius-rounded-e);
    --btn-font-family: var(--dt-font-interactive-m-family);
    --btn-font-weight: var(--dt-font-interactive-m-weight);

    // The base values are set to the size default, which is for the medium button size
    --btn-padding: 10px var(--dt-spacing-e);
    --btn-min-height: 48px;
    --btn-font-size: calc(var(--dt-font-size-20) * 1px);
    --btn-line-height: calc(var(--dt-font-size-20-line-height) * 1px);

    // The following values set to default background and color
    // currently this sets the primary button styles
    --btn-bg-color: var(--dt-color-interactive-brand);
    --btn-text-color: var(--dt-color-content-interactive-primary);
    --btn-focus: var(--dt-color-focus-outer);

    min-block-size: var(--btn-min-block-size);
    padding: var(--btn-padding);
    border: none;
    border-radius: var(--btn-border-radius);
    outline: none;
    background-color: var(--btn-bg-color);
    font-family: var(--btn-font-family);
    font-size: var(--btn-font-size);
    font-weight: var(--btn-font-weight);
    color: var(--btn-text-color);
    line-height: var(--btn-line-height);
    cursor: pointer;
    user-select: none;

    &:focus-visible {
        // TODO - Need to update to use the latest focus styling
        outline: 2px solid var(--btn-focus);
    }

    // Variant
    &[variant='primary'] {
        @include button-interactive-states('--dt-color-interactive-brand');
    }

    &[variant='secondary'] {
        --btn-bg-color: var(--dt-color-interactive-secondary);
        --btn-text-color: var(--dt-color-content-interactive-secondary);

        @include button-interactive-states('--dt-color-interactive-secondary');
    }

    &[variant='outline'] {
        --btn-bg-color: var(--dt-color-container-default);
        --btn-text-color: var(--dt-color-content-interactive-tertiary);

        border: 1px solid var(--dt-color-border-strong);

        @include button-interactive-states('--dt-color-container-default');
    }

    &[variant='ghost'] {
        --btn-bg-color: var(--dt-color-container-default);
        --btn-text-color: var(--dt-color-content-link);

        @include button-interactive-states('--dt-color-container-default');
    }

    // Additional modifiers
    &[isFullWidth] {
        inline-size: 100%;
    }

    &[disabled] {
        --btn-bg-color: var(--dt-color-disabled-01);
        --btn-text-color: var(--dt-color-content-disabled);

        border: 1px solid var(--dt-color-disabled-01);
        cursor: not-allowed;
    }

    &[disabled][variant='ghost'] {
        --btn-bg-color: var(--dt-color-container-default);

        outline: none;
    }

    &[size='xsmall'] {
        --btn-padding: 6px var(--dt-spacing-b);
        --btn-min-block-size: 32px;
        --btn-font-size: calc(var(--dt-font-size-14) * 1px);
        --btn-line-height: calc(var(--dt-font-size-14-line-height) * 1px);
    }

    &[size='small'] {
        --btn-padding: 8px var(--dt-spacing-d);
        --btn-min-block-size: 40px;
        --btn-font-size: calc(var(--dt-font-size-19) * 1px);
        --btn-line-height: calc(var(--dt-font-size-19-line-height) * 1px);
    }

    &[size='medium'] {
        /* Same as default styles */
    }

    &[size='large'] {
        --btn-padding: 14px var(--dt-spacing-e);
        --btn-min-block-size: 56px;
        --btn-font-size: calc(var(--dt-font-size-20) * 1px);
        --btn-line-height: calc(var(--dt-font-size-20-line-height) * 1px);
    }
}
