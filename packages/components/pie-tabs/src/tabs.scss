@use '@justeattakeaway/pie-css/scss' as p;

.c-tabs {
  --tabs-background-color: var(--dt-color-transparent);
  --tabs-flex-global-orientation: row;
  --tabs-flex-navigation-orientation: column;
  --tabs-navigation-item-border-radius: var(--dt-radius-02);

  display: flex;
  flex-direction: var(--tabs-flex-global-orientation);
}

.c-tabs-variant--contained {
  --tabs-background-color: var(--dt-color-container-default);
}

.c-tabs-orientation--horizontal {
  --tabs-flex-global-orientation: column;
  --tabs-flex-navigation-orientation: row;
}

.c-tabs-navigation {
  ul {
    display: flex;
    flex-direction: var(--tabs-flex-navigation-orientation);
    padding: 0;
    margin: 0;
    
    li {
      cursor: pointer;
      
      list-style: none;
      display: flex;
      position: relative;
      gap: var(--dt-spacing-b);
      color: var(--dt-color-content-subdued);
      
      padding-block-start: var(--dt-spacing-b);
      padding-block-end: var(--dt-spacing-b);
      padding-inline-start: var(--dt-spacing-d);
      padding-inline-end: var(--dt-spacing-d);

      font-size: #{p.font-size(--dt-font-size-16)};
      line-height: #{p.line-height(--dt-font-size-16-line-height)};
      font-weight: 700;
      border-radius: var(--tabs-navigation-item-border-radius);

      &:hover {
        background-color: color-mix(in srgb, var(--dt-color-content-subdued) var(--dt-color-hover-01), var(--tabs-background-color));
      }

      &:focus-visible {
        outline: solid calc(var(--dt-spacing-a) / 2) var(--dt-color-focus-outer);
        outline-offset: calc(var(--dt-spacing-a) / 2 * -1.5);
      }

      &:active {
        background-color: color-mix(in srgb, var(--dt-color-content-subdued) var(--dt-color-active-01), var(--tabs-background-color));
      }

      &.selected {  
        background-color: var(--tabs-background-color);
        border-radius: 0;

        &:after {
          content: '';
          position: absolute;
          background-color: var(--dt-color-interactive-brand);
        }
      }

      // Horizontal and vertical tabs on selected state
      &.c-tabs-navigation-item--horizontal {
        &.selected {
          &:after {
            height: 4px;
            width: 100%;
            left: 0;
            right: 0;
            border-top-left-radius: calc(var(--dt-radius-02) / 2);
            border-top-right-radius: calc(var(--dt-radius-02) / 2);
          }
        }

        &.c-tabs-navigation-item-variant--global {
          &.selected {
            &:after {
              bottom: calc(var(--dt-spacing-a) * -1);
            }
          }
        }

        &.c-tabs-navigation-item-variant--contained {
          &.selected {
            &:after {
              top: calc(var(--dt-spacing-a) * -1);
            }
          }
        }
      }

      &.c-tabs-navigation-item--vertical {
        &.selected {
          &:after {
            top: 0;
            left: calc(var(--dt-spacing-a) * -1);
            width: 4px;
            height:100%;
          }
        }

        &.c-tabs-navigation-item-variant--global {
          &.selected {
            &:after {
              border-top-right-radius: calc(var(--dt-radius-02) / 2);
              border-bottom-right-radius: calc(var(--dt-radius-02) / 2);
            }
          }
        }

        &.c-tabs-navigation-item-variant--contained {
          &.selected {
            &:after {
              border-top-left-radius: calc(var(--dt-radius-02) / 2);
              border-bottom-left-radius: calc(var(--dt-radius-02) / 2);
            }
          }
        }
      }
      
      // End of horizontal and vertical tabs on selected state
      
      &.disabled {
        cursor: not-allowed;
        user-select: none;
        color: var(--dt-color-content-disabled);
        
        &:hover, &:focus, &:focus-visible, &:active {
          outline: none;
        }
      }
    }
  }
}

.c-tabs-panels {
  background-color: var(--tabs-background-color);
}